# 함수형 프로그래밍

### 순수함수

- 동일한 입력에는 항상 같은 값을 반환해야합니다.(외부의 변수에 영향을 받지 않음)
- 함수의 실행이 프로그램의 실행에 영향을 미치면 안 됩니다.(외부의 변수에 영향을 주지 않음)
- 함수 내부에서 인자의 값을 변경하거나 프로그램 상태를 변경하는 부작용(부가적인 효과)가 없어야합니다.

```
const a = 10;

function add(num){
  return num + a;
}
```

위와 같은 함수는 순수함수가 아닙니다.

외부의 a 변수의 값이 달라지면 같은 입력이 들어왔을 때 최종 값이 달라지기 때문입니다.

```
function add(a, b){
  return a+b;
}
```

이는 순수함수입니다.

외부에 상관없이 같은 값이 인자로 전달되면 항상 같은 값을 리턴하기 때문입니다.

### 비상태, 불변성

- 함수형 프로그램에서는 불변성을 유지해야합니다.(데이터의 변화를 지양합니다.)
- 데이터의 변경이 필요한 경우 기존의 데이터를 복사하고 이를 변경해서 사용합니다.

```
const arr = [1,2,3,4]

function pushData(num){
  arr.push(5);
  return arr;
}
```

위와 같은 함수는 순수함수가 아닙니다.

외부의 arr 배열의 데이터를 변경하기 때문입니다.

```
const arr = [1,2,3,4]

function pushData(num){
  const copyArr = [...arr, 5];
  return copyArr;
}
```

위의 함수는 실행을 해도 기존의 arr 배열의 데이터는 변경되지 않기 때문에 순수함수입니다.

### 일급객체

- 변수나 데이터 구조안에 담을 수 있다.
- 파라미터로 전달할 수 있다.
- 반환값으로 사용할 수 있다.
- 할당에 사용된 이름과 관계없이 고유한 구별이 가능하다.
- 동적으로 프로퍼티 할당이 가능하다.

### 고차함수

- 함수를 인자로 전달할 수 있어야 한다.
- 함수의 반환값으로 다른 함수를 사용할 수 있어야한다.
- 예시
  - forEach()
  - map()
  - find()
  - findIndex()
  - filter()
  - reduce()
  - sort()
  - some()

### 클로져

함수와 렉시컬 환경의 조합입니다.

![Alt text](%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%93%9C1.JPG)

호이스팅의 결과로 makeFunc은 제일 먼저 선언되고 다음 stringAdd가 선언되어 초기화됩니다.

![Alt text](%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%93%9C2.JPG)

makeFunc의 렉시컬 환경이 만들어지고 그의 매개변수가 저장됩니다.

![Alt text](%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%93%9C3.JPG)
makeFunc안의 익명함수의 렉시컬 환경이 만들어지고 매개변수가 저장됩니다.

익명합수 안에서 x를 찾아야하는 상황에서 익명함수 안에 x 가 없으```니 찾기위해 외부함수를 참조하여 y값을 찾습니다.

![Alt text](%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%93%9C4.JPG)

x와 y를 찾았으니 정상적인 연산이 이루어집니다.

즉 클로저는 함수와 렉시컬 환경의 조합으로 자신의 영역안에 원하는 데이터가 없을 시 참조하고 있는 외부 렉시컬 환경을 찾고 전역 렉시컬 환경까지 찾는 동작을 합니다.
